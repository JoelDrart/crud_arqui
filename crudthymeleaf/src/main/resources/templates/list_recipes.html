<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>KWA!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" type="text/css" href="/css/main.css">
</head>

<body>

<nav class="bg-slate-900 fixed w-full z-10">
	<div class="container mx-auto flex justify-between items-center py-4 px-4">
		<div>
			<span class="text-amber-200 text-lg font-bold">KWA!</span>
		</div>
		<ul class="flex space-x-6">
			<li><a href="/recetas/" class="text-white hover:text-amber-400">Inicio</a></li>
			<li><a href="/recetas/list" class="text-white hover:text-yellow-300">Ver recetas</a></li>
			<div sec:authorize="isAuthenticated()">
				<li class="nav-item">
					<a class="nav-link" href="/recetas/add_recipe">Nueva receta</a>
				</li>
			</div>
			<li><a href="/recetas/about" class="text-white hover:text-yellow-300">Acerca de</a></li>
			<li th:unless="${#authorization.expression('isAuthenticated()')}">
				<a href="/recetas/login" class="text-white hover:text-yellow-300">Iniciar sesión</a>
			</li>
			<li sec:authorize="isAuthenticated()">
				<a href="/recetas/logout" class="text-white hover:text-yellow-300">Cerrar sesión</a>
			</li>
		</ul>
	</div>
</nav>

<header class="py-6">
	<div class="container mx-auto px-4">
		<div class="bg-white p-6 shadow-md rounded-md">
			<div th:switch="${recipes}">
				<h2 th:case="null" class="text-center text-gray-700 text-lg font-bold">No recipes yet!</h2>
				<div th:case="*">
					<table class="min-w-full bg-white border border-gray-200">
						<thead>
						<tr>
							<th class="py-2 px-4 border-b text-left">Nombre</th>
							<th class="py-2 px-4 border-b text-left">Autor</th>
							<th class="py-2 px-4 border-b text-left">Teléfono</th>
							<th class="py-2 px-4 border-b text-left">Correo</th>
							<th class="py-2 px-4 border-b text-left">Imagen</th>
							<th class="py-2 px-4 border-b text-left">Ver</th>
							<div sec:authorize="isAuthenticated()">
								<th class="py-2 px-4 border-b text-left">Edit</th>
								<th class="py-2 px-4 border-b text-left">Delete</th>
							</div>
						</tr>
						</thead>
						<tbody>
						<tr th:each="receta : ${recipes}" class="odd:bg-gray-100 even:bg-gray-50">
							<td th:text="${receta.nombre}" class="py-2 px-4 border-b"></td>
							<td th:text="${receta.autor}" class="py-2 px-4 border-b"></td>
							<td th:text="${receta.telefono}" class="py-2 px-4 border-b"></td>
							<td th:text="${receta.correo}" class="py-2 px-4 border-b"></td>
							<td class="py-2 px-4 border-b">
								<img th:src="@{/pic/{id}(id=${receta.foto}+.jpg)}" class="h-20 w-20 object-cover rounded">
							</td>
							<td class="py-2 px-4 border-b">
								<button class="bg-blue-500 hover:bg-blue-700 text-white py-1 px-3 rounded" data-toggle="modal" data-target="#modalLong" th:attr="data-target='#modalLong'+${receta.id }">
									<i class="fas fa-glasses"></i>
								</button>
							</td>
							<div sec:authorize="isAuthenticated()">
								<td class="py-2 px-4 border-b">
									<a th:href="@{/recetas/edit/{id}(id=${receta.id})}" class="bg-green-500 hover:bg-green-700 text-white py-1 px-3 rounded">
										<i class="fas fa-edit"></i>
									</a>
								</td>
								<td class="py-2 px-4 border-b">
									<button class="bg-red-500 hover:bg-red-700 text-white py-1 px-3 rounded" data-toggle="modal" data-target="#modal-warning" th:attr="data-target='#modal-warning'+${receta.id}">
										<i class="fas fa-trash-alt"></i>
									</button>
								</td>
							</div>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</header>

</body>
</html>
